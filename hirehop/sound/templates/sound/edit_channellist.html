{% extends "base_logged_in.html" %}
{% block content %}




{% load crispy_forms_tags %}

    {{ formset.errors }}
    {{ formset.non_field_errors }}
    {{ form.errors }}
    {{ form.non_field_errors }}
    <div class="container">
        <legend class="text-center">
            <h1>Edit channellist</h1>
          </legend>
        <div class="row">
            <div class="col-sm-6">
                <fieldset class="form-group">
                    <form action="" method="post">
                      {% csrf_token %}
                      {{ form.projectID }}
                      {% if error_message %}
                      <p class="text-danger text-center">{{ error_message }}</p>
                      {% endif %}
                      <div class="row mb-3">
                        <div class="form-check">
                            <label for="{{ form.Name.id_for_label }}" class="col-sm-4">Channellist name:</label>
                            <div class="col-sm-20">
                                {{ form.Name | as_crispy_field }}
                            </div>
                            
                        </div>
                      </div>
                      <div class="row mb-3">
                        <div class="form-check">
                            <label for="{{ form.mixerID.id_for_label }}" class="col-sm-4">Mixer:</label>
                            <div class="col-sm-20">
                                {{ form.mixerID | as_crispy_field }}
                            </div>
                            
                        </div>
                      </div>
                        <button type="submit" class="btn btn-primary" id="btnSubmit">Update</button>
                    </fieldset>
                    </form>
              </div>
              
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                      <h3 class="text-center">Job information</h3>
                    </div>
                    <ul class="list-group list-group-flush">
                      <li class="list-group-item">
                        Job name: {{ job_data.JOB_NAME }}
                      </li>
                      <li class="list-group-item">
                        Address: {{ job_data.ADDRESS }}
                      </li>
                      <li class="list-group-item">
                        Customer: {{ job_data.COMPANY }}
                      </li>
                      <li class="list-group-item">
                        Start date: {{ job_data.JOB_DATE}}
                      </li>
                      <li class="list-group-item">
                          End date: {{ job_data.JOB_END}}
                      </li>
                      <li class="list-group-item">
                          Venue: {{ job_data.VENUE}}
                      </li>
      
                    </ul>
                  </div>
            </div>
        </div>

        <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th>Musician</th>
                <th>Notes</th>
                <th>Instrument</th>
                <th>Stage Input</th>
                <th>Console Channel</th>
                <th>Mic/DI</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              {% for channel_list_input in channel_list_inputs %}
                <tr>
                  <form method="post" action="{% url 'sound_channel_list_inputs_update' channel_list_input.pk  %}">
                    {% csrf_token %}
                    <td>{{ ChannelListInputForm.musician | as_crispy_field  }}</td>
                    <td>{{ ChannelListInputForm.notes | as_crispy_field  }}</td>
                    <td>{{ ChannelListInputForm.instrument | as_crispy_field  }}</td>
                    <td>{{ ChannelListInputForm.stage_input | as_crispy_field  }}</td>
                    <td>{{ ChannelListInputForm.console_channel | as_crispy_field  }}</td>
                    <td>{{ ChannelListInputForm.micID | as_crispy_field }}</td>
                    <td>
                      <button type="submit">Save</button>
                    </td>
                  </form>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        
          

        

    </div>
        



{% endblock %}